<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Favicon.ico Generator - MAA</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body>
    <!-- Responsive navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container px-lg-5">
            <a class="navbar-brand" href="#!">Favicon.ico Generator</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page"
                            href="https://ahmetaraci.github.io">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://ahmetaraci.github.io/about/">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Header-->
    <header class="py-5">
        <div class="container px-lg-5">
            <div class="p-4 p-lg-5 bg-light rounded-3 text-center">
                <div class="m-4 m-lg-5">
                    <h1 class="display-6 fw-bold">Projeleriniz için favicon üretin</h1>
                    <p class="fs-5">Web uygulamamız, verilen bir görselin arka planını silerek çeşitli çözünürlüklerde
                        faviconlar üretir. Oluşturduğu ikonlar arasında 192x192 ve 512x512 piksel Android Chrome
                        ikonları, 180x180 piksel Apple dokunmatik ikonu, 32x32 piksel favicon.ico, 16x16 ve 32x32 piksel
                        faviconlar ve 150x150 piksel Microsoft tile ikonu bulunur. Bu sayede, kullanıcılar çeşitli
                        platformlarda kullanıma hazır ikonlara sahip olur.</p>

                    <div class="mb-3">
                        <input class="form-control form-control" type="file" id="imageFile" accept="image/*" required>
                    </div>
                    <div class="container">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="faviconOptions" id="option1"
                                value="multiple" checked>
                            <label class="form-check-label h6" for="option1">
                                Web, Android, Microsoft ve iOS (iPhone ve iPad) Uygulamaları için simgeler oluşturun.
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="faviconOptions" id="option2"
                                value="single">
                            <label class="form-check-label h6" for="option2">
                                Sadece 16x16 favicon.ico oluşturun.
                            </label>
                        </div>
                    </div>
                    <div class="mb-3"><button class="btn btn-success btn-lg" onclick="generateFavicons()">Generate
                            Favicons</button>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="py-1" id="whatsNext" hidden>
        <div class="container px-lg-5">
            <div class="p-4 p-lg-5 bg-light rounded-3 text-center">
                <div class="m-4 m-lg-5">
                    <!-- <h1 class="display-6 fw-bold">Projeleriniz için favicon üretin</h1> -->
                    <p class="fs-5">Faviconları indirip aşağıdaki kodu HTML'nizin head kısmını yerleştirin.</p>
                    <pre> <span class="nt">&lt;link</span><span class="na">rel=</span><span class="s">"shortcut icon"</span> <span class="na">href=</span><span class="s">"/favicon.ico"</span> <span class="na">type=</span><span class="s">"image/x-icon"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"icon"</span> <span class="na">href=</span><span class="s">"/favicon.ico"</span> <span class="na">type=</span><span class="s">"image/x-icon"</span><span class="nt">&gt;</span>
                        </pre>
                </div>
            </div>
        </div>
    </div>
    <!-- Page Content-->
    <section class="pt-4" id="resultContainer" hidden>
        <div class="container px-lg-5">
            <!-- Page Features-->
            <div class="row gx-lg-5">

                <div class="col-lg-6 col-xxl-4 mb-5">
                    <div class="card bg-light border-0 h-100">
                        <div class="card-body text-center p-4 p-lg-5 pt-0 pt-lg-0">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-4 mt-n4"><i
                                    class="bi bi-cloud-download"></i></div>
                            <h2 class="fs-4 fw-bold">Free to download</h2>
                            <div id="results"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-xxl-4 mb-5">
                    <div class="card bg-light border-0 h-100">
                        <div class="card-body text-center p-4 p-lg-5 pt-0 pt-lg-0">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-4 mt-n4"><i
                                    class="bi bi-card-heading"></i></div>
                            <h2 class="fs-4 fw-bold">Jumbotron hero header</h2>
                            <p class="mb-0">The heroic part of this template is the jumbotron hero header!</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 col-xxl-4 mb-5">
                    <div class="card bg-light border-0 h-100">
                        <div class="card-body text-center p-4 p-lg-5 pt-0 pt-lg-0">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-4 mt-n4"><i
                                    class="bi bi-code"></i></div>
                            <h2 class="fs-4 fw-bold">Simple clean code</h2>
                            <p class="mb-0">We keep our dependencies up to date and squash bugs as they come!</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script>
        function generateFavicons() {
            const fileInput = document.getElementById('imageFile');
            if (!fileInput.files.length) {
                alert('Please select an image file.');
                return;
            }
            const file = fileInput.files[0];
            const img = new Image();
            img.src = URL.createObjectURL(file);
            img.onload = () => {
                processImage(img);
                URL.revokeObjectURL(img.src);
            };
            document.getElementById('whatsNext').hidden = false;
            document.getElementById('resultContainer').hidden = false;
        }

        function processImage(img) {
            const selectedOption = document.querySelector('input[name="faviconOptions"]:checked').value;

            const multipleSizes = [
                { name: 'android-chrome-192x192.png', size: 192, removeBg: true },
                { name: 'android-chrome-512x512.png', size: 512, removeBg: true },
                { name: 'apple-touch-icon.png', size: 180, removeBg: false },
                { name: 'favicon.ico', size: 32, removeBg: true },
                { name: 'favicon-16x16.png', size: 16, removeBg: true },
                { name: 'favicon-32x32.png', size: 32, removeBg: true },
                { name: 'mstile-150x150.png', size: 150, removeBg: true },
            ];

            const singleSize = [
                { name: 'favicon-16x16.png', size: 16, removeBg: true },
            ];

            const sizes = selectedOption === 'multiple' ? multipleSizes : singleSize;

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            const zip = new JSZip();

            const addFileToZip = (name, blob) => {
                zip.file(name, blob);
                if (Object.keys(zip.files).length === sizes.length) {
                    zip.generateAsync({ type: 'blob' }).then(content => {
                        const link = document.createElement('a');
                        link.href = URL.createObjectURL(content);
                        link.download = 'favicons.zip';
                        link.textContent = 'Download Favicons Zip';
                        resultsDiv.appendChild(link);
                    });
                }
            };

            const downloadSingleFile = (name, blob) => {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = name;
                link.textContent = 'Download favicon-16x16.png';
                resultsDiv.appendChild(link);
            };

            sizes.forEach(({ name, size, removeBg }) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = size;
                canvas.height = size;
                ctx.drawImage(img, 0, 0, size, size);

                if (removeBg) {
                    removeBackground(canvas);
                }

                canvas.toBlob(blob => {
                    if (selectedOption === 'multiple') {
                        addFileToZip(name, blob);
                    } else {
                        downloadSingleFile(name, blob);
                    }
                }, name.endsWith('.ico') ? 'image/x-icon' : 'image/png');
            });
        }

        function removeBackground(canvas) {
            const ctx = canvas.getContext('2d');
            const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imgData.data;

            for (let i = 0; i < data.length; i += 4) {
                if (data[i] > 200 && data[i + 1] > 200 && data[i + 2] > 200) {
                    data[i + 3] = 0;
                }
            }

            ctx.putImageData(imgData, 0, 0);
        }
    </script>
</body>

</html>